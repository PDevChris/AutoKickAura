const _0x595488=_0x3600;function _0x3600(_0x135e3c,_0x32d68a){const _0x2f1f86=_0x2f1f();return _0x3600=function(_0x36002d,_0x52c09c){_0x36002d=_0x36002d-0x97;let _0x20b464=_0x2f1f86[_0x36002d];return _0x20b464;},_0x3600(_0x135e3c,_0x32d68a);}(function(_0x29a7bf,_0x97e6a9){const _0x5aa494=_0x3600,_0x3d27dd=_0x29a7bf();while(!![]){try{const _0x390d13=parseInt(_0x5aa494(0xc1))/0x1*(parseInt(_0x5aa494(0xae))/0x2)+-parseInt(_0x5aa494(0xa0))/0x3+parseInt(_0x5aa494(0xb9))/0x4+parseInt(_0x5aa494(0xc0))/0x5+-parseInt(_0x5aa494(0x97))/0x6+parseInt(_0x5aa494(0xc5))/0x7+parseInt(_0x5aa494(0xad))/0x8*(-parseInt(_0x5aa494(0xaf))/0x9);if(_0x390d13===_0x97e6a9)break;else _0x3d27dd['push'](_0x3d27dd['shift']());}catch(_0x9b560d){_0x3d27dd['push'](_0x3d27dd['shift']());}}}(_0x2f1f,0xe81a4));import{world,system}from'@minecraft/server';import{ModalFormData}from'@minecraft/server-ui';function _0x2f1f(){const _0x48f6b9=['minutes','Vest','5666164wmUbyP','length','dropdown','sort','Start\x20Game','floor','§cTNT\x20Tag\x20has\x20ended.\x20Thanks\x20for\x20playing!','9268595tkaIlo','6967VmgHZw','sendMessage','bridge:tnt_helmet','helmetType','11198887SByosC','hasTag','replaceitem\x20entity\x20@s\x20slot.armor.head\x200\x20','entityHitEntity','afterEvents','Minutes','itemUse','removeTag','4507566DzlZVj','\x20sec','kill\x20@s','initialTagged','getPlayers','slice','tnt','runCommandAsync','runInterval','4440285slyMvH','padStart','TNT','admin','bridge:bomb_helmet','gameActive','Seconds','replaceitem\x20entity\x20@s\x20slot.armor.head\x200\x20air','subscribe','toggle','max','canceled','then','176EGnTfT','438ozTbZv','1314747rxwonj','clearRun','slider','\x20min\x20','onScreenDisplay','toString','seconds','addTag'];_0x2f1f=function(){return _0x48f6b9;};return _0x2f1f();}let gameConfig={'minutes':0x0,'seconds':0x1e,'initialTagged':0x1,'helmetType':'bridge:tnt_helmet','gameActive':![]},gameTimer=null;function showConfigMenu(_0x5375b4){const _0x39bc94=_0x3600;let _0x195507=new ModalFormData()['title']('§l§cTNT\x20Tag\x20Configuration')['slider'](_0x39bc94(0xca),0x0,40,0x1,gameConfig[_0x39bc94(0xb7)])[_0x39bc94(0xb1)](_0x39bc94(0xa6),0x0,0x3b,0x1,gameConfig['seconds'])['slider']('Players\x20with\x20the\x20explosive',0x1,Math[_0x39bc94(0xaa)](0x1,world[_0x39bc94(0x9b)]()[_0x39bc94(0xba)]),0x1,gameConfig[_0x39bc94(0x9a)])[_0x39bc94(0xbb)]('Explosive\x20type',[_0x39bc94(0xa2),'Bomb',_0x39bc94(0xb8)],0x0)[_0x39bc94(0xa9)](_0x39bc94(0xbd),gameConfig[_0x39bc94(0xa5)]);_0x195507['show'](_0x5375b4)[_0x39bc94(0xac)](_0x21331e=>{const _0x21fd1=_0x39bc94;if(!_0x21331e[_0x21fd1(0xab)])processMenuResponse(_0x21331e['formValues']);});}function processMenuResponse(_0x572fc4){const _0x1c9294=_0x3600;let [_0x381623,_0x40a18b,_0x2e8a37,_0x48bafe,_0x378529]=_0x572fc4,_0x39a945=[_0x1c9294(0xc3),_0x1c9294(0xa4),'bridge:chaleco_helmet'];gameConfig={'minutes':_0x381623,'seconds':_0x40a18b,'initialTagged':_0x2e8a37,'helmetType':_0x39a945[_0x48bafe],'gameActive':_0x378529};if(gameConfig['gameActive'])startGameLogic();}function startGameLogic(){const _0x32ba7a=_0x3600;let _0x36c8b8=world[_0x32ba7a(0x9b)]();if(_0x36c8b8[_0x32ba7a(0xba)]<gameConfig[_0x32ba7a(0x9a)]){world[_0x32ba7a(0xc2)]('§3Not\x20enough\x20players\x20to\x20start!');return;}for(let _0x40e74e of _0x36c8b8){_0x40e74e[_0x32ba7a(0xcc)](_0x32ba7a(0x9d)),_0x40e74e[_0x32ba7a(0x9e)](_0x32ba7a(0xa7));}let _0x131ac9=_0x36c8b8[_0x32ba7a(0xbc)](()=>Math['random']()-0.5)[_0x32ba7a(0x9c)](0x0,gameConfig[_0x32ba7a(0x9a)]);for(let _0x2ffa48 of _0x131ac9){_0x2ffa48[_0x32ba7a(0xb6)]('tnt'),_0x2ffa48[_0x32ba7a(0x9e)](_0x32ba7a(0xc7)+gameConfig[_0x32ba7a(0xc4)]),_0x2ffa48[_0x32ba7a(0xc2)]('§cYou\x20have\x20the\x20explosive!');}world[_0x32ba7a(0xc2)]('§6TNT\x20Tag\x20has\x20started!\x20Time:\x20'+gameConfig['minutes']+_0x32ba7a(0xb2)+gameConfig[_0x32ba7a(0xb5)]+_0x32ba7a(0x98));let _0x146013=gameConfig['minutes']*0x3c+gameConfig[_0x32ba7a(0xb5)];gameTimer!==null&&system[_0x32ba7a(0xb0)](gameTimer),gameTimer=system[_0x32ba7a(0x9f)](()=>{const _0x405496=_0x32ba7a;if(_0x146013<=0x0){endGame();return;}_0x146013--;let _0x5ee403='Time:\x20'+Math[_0x405496(0xbe)](_0x146013/0x3c)+':'+(_0x146013%0x3c)[_0x405496(0xb4)]()[_0x405496(0xa1)](0x2,'0');for(let _0x15e162 of world[_0x405496(0x9b)]()){_0x15e162[_0x405496(0xc6)](_0x405496(0x9d))?_0x15e162[_0x405496(0xb3)]['setActionBar']('§c=TIME=\x0a\x20'+_0x5ee403):_0x15e162['onScreenDisplay']['setActionBar'](_0x5ee403);}},0x14);}function endGame(){const _0x41daf9=_0x3600;gameTimer!==null&&(system[_0x41daf9(0xb0)](gameTimer),gameTimer=null);let _0x11c350=world['getPlayers']();for(let _0x3bb5e4 of _0x11c350){_0x3bb5e4[_0x41daf9(0xc6)](_0x41daf9(0x9d))&&(_0x3bb5e4[_0x41daf9(0x9e)](_0x41daf9(0x99)),_0x3bb5e4['runCommandAsync']('clear\x20@s')),_0x3bb5e4[_0x41daf9(0xcc)](_0x41daf9(0x9d)),_0x3bb5e4['runCommandAsync']('replaceitem\x20entity\x20@s\x20slot.armor.head\x200\x20air');}world[_0x595488(0xc9)][_0x595488(0xc8)][_0x595488(0xa8)](_0x1f2d77 => const _0x47cd6c = _0x595488;
  let { damagingEntity: _0x34ebc7, hitEntity: _0x4aff1a } = _0x1f2d77;

  if (
    !_0x34ebc7 || 
    !_0x4aff1a || 
    typeof _0x34ebc7.runCommandAsync !== 'function' || 
    typeof _0x4aff1a.runCommandAsync !== 'function' ||
    !_0x34ebc7[_0x47cd6c(0xc6)](_0x47cd6c(0x9d))
  ) return;

  _0x34ebc7[_0x47cd6c(0xcc)](_0x47cd6c(0x9d));
  _0x4aff1a[_0x47cd6c(0xb6)](_0x47cd6c(0x9d));
  _0x34ebc7[_0x47cd6c(0x9e)](_0x47cd6c(0xa7));
  _0x4aff1a['runCommandAsync'](_0x47cd6c(0xc7) + gameConfig[_0x47cd6c(0xc4)]);
  _0x4aff1a[_0x47cd6c(0xc2)]('§cYou\x20now\x20have\x20the\x20explosive!');
});
